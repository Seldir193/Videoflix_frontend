<div>
  <form [formGroup]="form" (ngSubmit)="submit()" class="signup-box" novalidate>
    <h1 class="title">{{ "button.signup" | translate }}</h1>

    <div class="field-block">
      <div class="input-group" [class.invalid]="email.invalid && email.touched">
        <img class="icon" src="assets/img/mail.png" alt="" aria-hidden="true" />
        <input type="email" placeholder="E-Mail" formControlName="email" />
      </div>
      <p class="error" *ngIf="email.errors?.['email'] && email.touched">
        <img src="assets/img/warning.png" alt="" aria-hidden="true" />
        {{ "error.emailInvalid" | translate }}
      </p>
    </div>

    <div class="field-block">
      <div
        class="input-group"
        [class.invalid]="password.invalid && (password.touched || submitted)"
      >
        <img
          class="icon"
          src="assets/img/password.png"
          alt=""
          aria-hidden="true"
        />
        <input
          [type]="showPassword ? 'text' : 'password'"
          placeholder="Passwort (min. 8 Zeichen)"
          formControlName="password"
        />

        <button type="button" class="eye" (click)="toggleShowPassword()">
          <img
            [src]="
              showPassword
                ? 'assets/img/visibility_off.png'
                : 'assets/img/visibility.png'
            "
            alt=""
            aria-hidden="true"
          />
        </button>
      </div>

      <p
        class="error"
        *ngIf="password.errors?.['minlength'] && (password.touched || submitted)"
      >
        <img src="assets/img/warning.png" alt="" aria-hidden="true" />
        {{ "error.passwordShort" | translate }}
      </p>
    </div>

    <div class="field-block">
      <div
        class="input-group"
        [class.invalid]="(repeat.invalid && (repeat.touched || submitted))
                         || form.errors?.['mismatch']"
      >
        <img
          class="icon"
          src="assets/img/password.png"
          alt=""
          aria-hidden="true"
        />
        <input
          [type]="showRepeat ? 'text' : 'password'"
          placeholder="Passwort wiederholen"
          formControlName="repeat"
        />

        <button type="button" class="eye" (click)="toggleShowRepeat()">
          <img
            [src]="
              showRepeat
                ? 'assets/img/visibility_off.png'
                : 'assets/img/visibility.png'
            "
            alt=""
            aria-hidden="true"
          />
        </button>
      </div>

      <p
        class="error"
        *ngIf="form.errors?.['mismatch'] && (repeat.touched || submitted)"
      >
        <img src="assets/img/warning.png" alt="" aria-hidden="true" />
        {{ "error.passwordMismatch" | translate }}
      </p>
    </div>

    <button type="submit" class="btn-login" [disabled]="form.invalid">
      {{ "button.start" | translate }}
    </button>
  </form>
</div>
